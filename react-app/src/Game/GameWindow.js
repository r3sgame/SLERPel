import React, { Component } from 'react'
import Phaser from 'phaser'
import { IonPhaser } from '@ion-phaser/react'

//Define GameObjects
var player;
var bot;
var platforms;
var goal;

//Velocity
var xVelocity = 0;
var speedCap = 300;
var speedMultiplier = 10;
var deceleration = 0.1;

var botXVelocity = 0;

//Game Systems
var isDone = false;
var cursors;

//Recorder
var savedInputs = [];
var timestamp = 0;
var currentInputs = [0, 0, 0];

const recording = [
  [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       1,
       0,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       0,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       1
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ],
   [
       0,
       1,
       0
   ]
 ]

//Initialize Tilemap
var tilemap = new Array(10);
for (var i = 0; i < tilemap.length; i++) {
  tilemap[i] = new Array(10);
}

//Level Editor
tilemap[0] = [0,0,0,0,0,0,0,0,0,0];
tilemap[1] = [0,0,0,0,0,0,0,0,2,0];
tilemap[2] = [0,0,0,0,0,0,0,0,1,0];
tilemap[3] = [0,0,0,0,0,0,0,0,0,0];
tilemap[4] = [0,0,0,0,0,1,0,0,0,0];
tilemap[5] = [0,0,0,0,0,0,0,0,0,0];
tilemap[6] = [0,0,1,0,0,0,0,0,0,0];
tilemap[7] = [0,0,0,0,0,0,0,0,0,0];
tilemap[8] = [0,0,0,0,1,0,0,0,0,0];
tilemap[9] = [1,1,1,1,1,1,1,1,1,1];

function Finish() {
  player.setGravity(0, 0);
  player.setVelocityX(0, 0);
  player.setVelocityY(0, 0);

  bot.setGravity(0, 0);
  bot.setVelocityX(0, 0);
  bot.setVelocityY(0, 0);

  console.log(savedInputs);
}

class GameWindow extends Component {
  state = {
    initialize: true,
    game: {
      width: 600,
      height: 600,
      type: Phaser.AUTO,
      physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: false
        }
    },
      scene: {
        preload: function() {
          this.load.image('player', 'assets/Player.png');
          this.load.image('tile', 'assets/Tile.png');
          this.load.image('bot', 'assets/Bot.png');
          this.load.image('goal', 'assets/Goal.png');
        },
        init: function() {
          this.cameras.main.setBackgroundColor('#000000');
        },
        create: function() {
          
          //Player
          player = this.physics.add.sprite(100, 450, 'player');
          player.setCollideWorldBounds(true);
          
          //Bot
          bot = this.physics.add.sprite(100, 450, 'bot');
          bot.setCollideWorldBounds(true);

          //Render Tilemap
          platforms = this.physics.add.staticGroup();

          for (let yIndex = 0; yIndex < tilemap.length; yIndex++) {
            for (let xIndex = 0; xIndex < tilemap[yIndex].length; xIndex++) {
              
              if(tilemap[yIndex][xIndex] === 1)
              platforms.create(30+(60*xIndex), 30+(60*yIndex), 'tile');

              if(tilemap[yIndex][xIndex] === 2) {
              goal = this.physics.add.staticSprite(30+(60*xIndex), 30+(60*yIndex), 'goal');
              // eslint-disable-next-line
              this.physics.add.overlap(player, goal, function() {
                if(!isDone)
                Finish();
                isDone = true;
                
              });
              // eslint-disable-next-line
              this.physics.add.overlap(bot, goal, function() {
                if(!isDone)
                Finish();
                isDone = true;
              });
              }
              }
          }

          //Physics
          this.physics.add.collider(player, platforms);
          this.physics.add.collider(bot, platforms);

          //Input
          cursors = this.input.keyboard.createCursorKeys();
        },
        update: function(time, delta) {
          currentInputs = [0,0,0];

          if(!isDone) {

            //Player
            player.setGravity(0, 1400);
          if (cursors.left.isDown)
          {
            if(xVelocity > 0)
				    xVelocity *= 0.9;
			      xVelocity -= speedMultiplier;

			      if (xVelocity < -speedCap)
				    xVelocity = -speedCap;

            currentInputs = [1, currentInputs[1], currentInputs[2]];
          }
          else if (cursors.right.isDown)
          {
            if (xVelocity < 0)
				    xVelocity *= 0.9;

			      xVelocity += speedMultiplier;

			      if(xVelocity > speedCap)
				    xVelocity = speedCap;

            currentInputs = [currentInputs[0], 1, currentInputs[2]];
          }
          else
          {
            xVelocity = xVelocity - xVelocity * deceleration;
          }

          if (cursors.up.isDown && player.body.touching.down)
          {
            player.setVelocityY((-700/6)*delta);
            currentInputs = [currentInputs[0], currentInputs[1], 1];
          }
          
          player.setVelocityX((xVelocity/6)*delta);

          //savedInputs[timestamp] = currentInputs;

          //Bot
          bot.setGravity(0, 1400);
          
          if(recording[timestamp] != null) {
          if (recording[timestamp][0] === 1)
          {
            if(botXVelocity > 0)
				    botXVelocity *= 0.9;
			      botXVelocity -= speedMultiplier;

			      if (botXVelocity < -speedCap)
				    botXVelocity = -speedCap;

            currentInputs = [1, currentInputs[1], currentInputs[2]];
          }
          else if (recording[timestamp][1] === 1)
          {
            if (botXVelocity < 0)
				    botXVelocity *= 0.9;

			      botXVelocity += speedMultiplier;

			      if(botXVelocity > speedCap)
				    botXVelocity = speedCap;

            currentInputs = [currentInputs[0], 1, currentInputs[2]];
          }
          else
          {
            botXVelocity = botXVelocity - botXVelocity * deceleration;
          }

          if (recording[timestamp][2] === 1 && bot.body.touching.down)
          {
            bot.setVelocityY((-700/6)*delta);
            currentInputs = [currentInputs[0], currentInputs[1], 1];
          }

          bot.setVelocityX((botXVelocity/6)*delta);
        }

          timestamp += 1;
        }
      } 
      }
    }
  }

  render() {
    const { initialize, game } = this.state
    return (
      <IonPhaser game={game} initialize={initialize} />
    )
  }
}

export default GameWindow;